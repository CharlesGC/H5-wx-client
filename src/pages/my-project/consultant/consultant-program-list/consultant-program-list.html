<!--
  Generated template for the ProjectProgramBrowserPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

    <ion-navbar>
      <ion-title>我的项目/顾问/方案详情</ion-title>
    </ion-navbar>
  
</ion-header>

<div class="nav-menu" *ngIf="isShowNavMenu">
    <ion-list class="nav-list-menu">
        <ion-item no-lines (click)="onNavMenuClick(false)">
          <p class="list-header-left">{{showNavMenuName || '详情'}}</p>
          <div class="list-header-right" item-end>
            <span>收起</span>
          </div>
        </ion-item>
      </ion-list>
    <div class="nav-menu-bg"></div>
    <ion-list class="nav-menu-list">
      <ion-item class="nav-menu-item" (click)="onNavMenuItemClick(1,'详情')">
          <label>详情</label>
          <ion-icon name="arrow-forward" item-right  (click)="isShow=!isShow"></ion-icon>
      </ion-item>
      <ion-item class="nav-menu-item" (click)="onNavMenuItemClick(2,'方案')">
          <label>方案</label>
          <ion-icon name="arrow-forward" item-right (click)="isShow=!isShow"></ion-icon>
      </ion-item>
      <ion-item class="nav-menu-item" (click)="onNavMenuItemClick(3,'阶段',-1)">
          <label>阶段</label>
          <ion-icon name="arrow-forward" item-right (click)="isShow=!isShow"></ion-icon>
      </ion-item>
      <ion-item class="nav-menu-item" (click)="onNavMenuItemClick(4,'文档',-1)">
          <label>文档</label>
          <ion-icon name="arrow-forward" item-right (click)="isShow=!isShow"></ion-icon>
      </ion-item>
      <ion-item class="nav-menu-item" (click)="onNavMenuItemClick(5,'收款记录',-1)" no-lines>
          <label>收款记录</label>
          <ion-icon name="arrow-forward" item-right (click)="isShow=!isShow"></ion-icon>
      </ion-item>
    </ion-list>
  </div>
  <ion-content style="background-color: #fcfcfc;" *ngIf="!projectProgramDetails">
    <ion-list class="nav-list-menu">
      <ion-item no-lines (click)="onNavMenuClick(true)">
        <p class="list-header-left">{{showNavMenuName || '方案'}}</p>
        <div class="list-header-right" item-end>
          <span>展开</span>
        </div>
      </ion-item>
    </ion-list>
    <div class="no-content">
      <h4 class="title">项目方案</h4>
      <div class="img"></div>
      <p class="tip">当前分类暂时为空，点击下方按钮添加方案。</p>
    </div>
    <button ion-button expand="full" large class="fixed-bottom" (click)="onAddProgramClick()">添加方案</button> 
  </ion-content>
  <ion-content style="background-color: #fcfcfc;" *ngIf="projectProgramDetails">
      <ion-list class="nav-list-menu">
        <ion-item no-lines (click)="onNavMenuClick(true)">
          <p class="list-header-left">{{showNavMenuName || '方案'}}</p>
          <div class="list-header-right" item-end>
            <span>展开</span>
          </div>
        </ion-item>
      </ion-list>
      <ion-list class="browser-top">
        <h4>{{projectProgramDetails.programName}}</h4>
        <!-- <p class="browser-top-p mt15">
          <img src="{{projectProgramDetails.avatar}}"/>
          <span>{{projectProgramDetails.nickName}}</span>
        </p> -->
      </ion-list>
      <ion-list class="describe-list">
        <ion-item no-lines>
          <h4>方案描述</h4>
          <p class="describe-cont">{{projectProgramDetails.programDescription}}</p>
        </ion-item>
      </ion-list>
      <ion-list class="describe-list mt10">
        <ion-item no-lines>
            <h4>项目规划与交付物</h4>
            <p class="describe-cont">{{projectProgramDetails.deliverable}} </p>
          </ion-item>
      </ion-list>
      <ion-list class="list-item-flex mt10">
        <ion-item>
          <label>项目周期</label>
          <span item-right class="item-value">{{projectProgramDetails.workload}} 
            <span *ngIf="projectProgramDetails.workloadUnit == 0">天</span>
            <span *ngIf="projectProgramDetails.workloadUnit == 1">个月</span>
            <span *ngIf="projectProgramDetails.workloadUnit == 2">年</span>
          </span>
        </ion-item>
        <ion-item no-lines>
          <label>项目总价</label>
          <span item-right class="item-value">{{projectProgramDetails.price}} 元</span>
        </ion-item>
      </ion-list>
      <div class="user-other-list">
        <p class="browser-file">查看方案相关文件</p>
        <h4 class="mt10">方案计划书</h4>
        <ion-card class="card-item">
            <div class="card-item-label">
              <label>
                <img style="width:66px;height:66px;" src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1534233453&di=bd34b76dca47ce86738ff171e3c50122&imgtype=jpg&er=1&src=http%3A%2F%2Fpic.58pic.com%2F58pic%2F14%2F81%2F70%2F29J58PICf2x_1024.jpg">
              </label>
              <div class="card-cont" data-src="planUrl">
                <h5>{{projectProgramDetails.planName}}</h5>
                <p class="browser-file">点击查看文件预览</p>
                <p class="browser-size">{{projectProgramDetails.size}}</p>
              </div>
            </div>
        </ion-card>
      </div>
      <ion-list class="describe-list mt40">
        <ion-item no-lines *ngFor="let proposal_item of projectProgramDetails.proposal">
          <div class="top-lines">
              <h4 class="top-lines-left">修改意见</h4>
              <span class="top-lines-right">{{proposal_item.createTime | date:'yy/MM/dd'}}</span>
          </div>
          <p class="describe-cont">{{proposal_item.opinion}}</p>
        </ion-item>
      </ion-list>
      <div style="height:100px;"></div>
      <!-- <button ion-button expand="full" large class="fixed-bottom bg-gry" (click)="goAccountEdit()">等待客户确认中</button> -->
      <button ion-button expand="full" large class="fixed-bottom" (click)="onAddProgramClick(projectProgramDetails)" *ngIf="projectProgramDetails.status == -1 ||projectProgramDetails.status == 1||projectProgramDetails.status == 4">编辑</button>
      <!-- <div class="fixed-bottom">
          <button ion-button class="btn-submit" (click)="onAddProgramClick(projectProgramDetails)">编辑</button>
          <button ion-button class="btn-delete" (click)="on()">提交方案</button>
      </div> -->
  </ion-content>
  